let Router,AccountManager,ValidateParams,Suspend;_9de‍.x([["default",()=>_9de‍.o]]);_9de‍.w("express",[["Router",["Router"],function(v){Router=v}]]);_9de‍.w("../../mongo/account",[["default",["AccountManager"],function(v){AccountManager=v}]]);_9de‍.w("../utils/params",[["default",["ValidateParams"],function(v){ValidateParams=v}]]);_9de‍.w("../../utils/suspend",[["default",["Suspend"],function(v){Suspend=v}]]);





const Delete = Router();

Delete.delete('/account/manage', async (req, res) => {
    //await Suspend(3000);

    if (!ValidateParams(req, {
        username: 'string',
        password: 'string'
    })) return res.status(400).end();

    const authStatus = await AccountManager.authorize(
        req.body.username,
        req.body.password
    );

    if (authStatus !== 200) return res.status(authStatus).end();

    const status = await AccountManager.delete(
        req.body.username
    );

    res.status(status).end();
});

_9de‍.d(Delete);